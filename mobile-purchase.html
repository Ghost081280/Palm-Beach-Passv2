<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Palm Beach Pass - Mobile</title>
    <meta name="theme-color" content="#2D5016">
    <link rel="manifest" href="./manifest.json">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --palm-green: #2D5016;
            --ocean-blue: #006B7D;
            --sand: #FAF3E3;
            --coral: #FF6B6B;
            --gold: #D4AF37;
            --white: #FFFFFF;
            --text-dark: #1A1A1A;
            --text-light: #666666;
            --success: #10B981;
            --shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
            color: var(--text-dark);
            line-height: 1.5;
        }

        /* Header */
        .mobile-header {
            background: linear-gradient(135deg, var(--palm-green), var(--ocean-blue));
            color: white;
            padding: 1rem;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo-mobile {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .tagline {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Hero Section */
        .hero-mobile {
            background: linear-gradient(135deg, rgba(45,80,22,0.95), rgba(0,107,125,0.95));
            color: white;
            padding: 2rem 1rem;
            text-align: center;
        }

        .hero-title {
            font-size: 2rem;
            font-weight: 300;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .stats-row {
            display: flex;
            justify-content: space-around;
            margin-bottom: 2rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--gold);
            display: block;
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.9;
        }

        /* Pass Cards */
        .passes-container {
            padding: 1rem;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            text-align: center;
            color: var(--palm-green);
        }

        .pass-grid-mobile {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .pass-card-mobile {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .pass-card-mobile:active {
            transform: scale(0.98);
        }

        .pass-card-mobile.popular {
            border: 2px solid var(--coral);
        }

        .popular-badge {
            position: absolute;
            top: 0;
            right: 1rem;
            background: var(--coral);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0 0 12px 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .pass-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .pass-duration {
            display: flex;
            align-items: baseline;
            gap: 0.25rem;
        }

        .pass-days {
            font-size: 2.5rem;
            font-weight: 600;
            color: var(--palm-green);
        }

        .pass-label {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .pass-price {
            text-align: right;
        }

        .price-main {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--ocean-blue);
        }

        .price-was {
            font-size: 0.8rem;
            color: var(--text-light);
            text-decoration: line-through;
        }

        .savings {
            background: var(--success);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 8px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-top: 0.25rem;
        }

        .pass-features {
            list-style: none;
            margin-bottom: 1.5rem;
        }

        .pass-features li {
            padding: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .pass-features li:before {
            content: "✓";
            color: var(--success);
            font-weight: bold;
        }

        .btn-select-mobile {
            width: 100%;
            background: linear-gradient(135deg, var(--palm-green), var(--ocean-blue));
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .btn-select-mobile:active {
            transform: scale(0.98);
        }

        /* Featured Attractions */
        .attractions-mobile {
            background: white;
            margin: 1rem;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
        }

        .attraction-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        .attraction-item {
            text-align: center;
            padding: 1rem;
            background: var(--sand);
            border-radius: 12px;
        }

        .attraction-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .attraction-name {
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .attraction-price {
            font-size: 0.7rem;
            color: var(--text-light);
        }

        .free-text {
            color: var(--success);
            font-weight: 600;
        }

        /* Bottom CTA */
        .bottom-cta {
            position: sticky;
            bottom: 0;
            background: white;
            padding: 1rem;
            border-top: 1px solid #e9ecef;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }

        .cta-text {
            text-align: center;
            margin-bottom: 1rem;
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .btn-get-started {
            width: 100%;
            background: var(--coral);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .btn-get-started:active {
            transform: scale(0.98);
        }

        /* Login Modal */
        .modal-mobile {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            padding: 1rem;
            align-items: center;
            justify-content: center;
        }

        .modal-mobile.active {
            display: flex;
        }

        .modal-content-mobile {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            width: 100%;
            max-width: 350px;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-dark);
        }

        .form-group input {
            width: 100%;
            padding: 1rem;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
            font-family: inherit;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--ocean-blue);
        }

        .btn-login-mobile {
            width: 100%;
            background: var(--palm-green);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 1rem;
        }

        .demo-note {
            text-align: center;
            font-size: 0.8rem;
            color: var(--text-light);
            margin-top: 1rem;
            padding: 0.5rem;
            background: var(--sand);
            border-radius: 8px;
        }

        /* Desktop Link */
        .desktop-link {
            text-align: center;
            padding: 1rem;
            background: var(--sand);
            margin: 1rem;
            border-radius: 12px;
        }

        .desktop-link a {
            color: var(--ocean-blue);
            text-decoration: none;
            font-weight: 500;
        }

        /* Toast */
        .toast-mobile {
            position: fixed;
            top: 1rem;
            left: 1rem;
            right: 1rem;
            background: var(--palm-green);
            color: white;
            padding: 1rem;
            border-radius: 12px;
            transform: translateY(-100px);
            transition: transform 0.3s;
            z-index: 2000;
            text-align: center;
        }

        .toast-mobile.show {
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="mobile-header">
        <div class="logo-mobile">🌴 Palm Beach Pass</div>
        <div class="tagline">Your mobile gateway to paradise</div>
    </header>

    <!-- Hero Section -->
    <section class="hero-mobile">
        <h1 class="hero-title">Unlock 156+ Attractions</h1>
        <p class="hero-subtitle">One pass, endless adventures on your phone</p>
        
        <div class="stats-row">
            <div class="stat-item">
                <span class="stat-number">156+</span>
                <div class="stat-label">Attractions</div>
            </div>
            <div class="stat-item">
                <span class="stat-number">50%</span>
                <div class="stat-label">Savings</div>
            </div>
            <div class="stat-item">
                <span class="stat-number">24/7</span>
                <div class="stat-label">Mobile Access</div>
            </div>
        </div>
    </section>

    <!-- Pass Selection -->
    <section class="passes-container">
        <h2 class="section-title">Choose Your Pass</h2>
        
        <div class="pass-grid-mobile">
            <!-- 1 Day Pass -->
            <div class="pass-card-mobile" onclick="selectPass('1-day', 89)">
                <div class="pass-header">
                    <div class="pass-duration">
                        <span class="pass-days">1</span>
                        <span class="pass-label">Day</span>
                    </div>
                    <div class="pass-price">
                        <div class="price-main">$89</div>
                        <div class="price-was">was $180</div>
                    </div>
                </div>
                <ul class="pass-features">
                    <li>All attractions included</li>
                    <li>Skip-the-line access</li>
                    <li>Digital mobile pass</li>
                    <li>Instant activation</li>
                </ul>
                <button class="btn-select-mobile">Select Pass</button>
            </div>

            <!-- 3 Day Pass -->
            <div class="pass-card-mobile popular" onclick="selectPass('3-day', 189)">
                <div class="popular-badge">Most Popular</div>
                <div class="pass-header">
                    <div class="pass-duration">
                        <span class="pass-days">3</span>
                        <span class="pass-label">Days</span>
                    </div>
                    <div class="pass-price">
                        <div class="price-main">$189</div>
                        <div class="price-was">was $400</div>
                        <div class="savings">Save $211</div>
                    </div>
                </div>
                <ul class="pass-features">
                    <li>All attractions included</li>
                    <li>VIP skip-the-line</li>
                    <li>Restaurant discounts</li>
                    <li>Perfect for weekends</li>
                </ul>
                <button class="btn-select-mobile">Select Pass</button>
            </div>

            <!-- 7 Day Pass -->
            <div class="pass-card-mobile" onclick="selectPass('7-day', 329)">
                <div class="pass-header">
                    <div class="pass-duration">
                        <span class="pass-days">7</span>
                        <span class="pass-label">Days</span>
                    </div>
                    <div class="pass-price">
                        <div class="price-main">$329</div>
                        <div class="price-was">was $750</div>
                        <div class="savings">Save $421</div>
                    </div>
                </div>
                <ul class="pass-features">
                    <li>Ultimate pass value</li>
                    <li>All VIP benefits</li>
                    <li>Exclusive events access</li>
                    <li>Complete experience</li>
                </ul>
                <button class="btn-select-mobile">Select Pass</button>
            </div>
        </div>
    </section>

    <!-- Featured Attractions -->
    <section class="attractions-mobile">
        <h3 class="section-title" style="margin-bottom: 0;">What's Included</h3>
        <div class="attraction-grid">
            <div class="attraction-item">
                <span class="attraction-icon">🦁</span>
                <div class="attraction-name">Lion Country Safari</div>
                <div class="attraction-price">$39.95 → <span class="free-text">FREE</span></div>
            </div>
            <div class="attraction-item">
                <span class="attraction-icon">💦</span>
                <div class="attraction-name">Rapids Water Park</div>
                <div class="attraction-price">$34.99 → <span class="free-text">FREE</span></div>
            </div>
            <div class="attraction-item">
                <span class="attraction-icon">🎨</span>
                <div class="attraction-name">Norton Museum</div>
                <div class="attraction-price">$18.00 → <span class="free-text">FREE</span></div>
            </div>
            <div class="attraction-item">
                <span class="attraction-icon">🏖️</span>
                <div class="attraction-name">Beach Tours</div>
                <div class="attraction-price">$45.00 → <span class="free-text">FREE</span></div>
            </div>
        </div>
    </section>

    <!-- Desktop Link -->
    <div class="desktop-link">
        <p>Prefer the full experience? <a href="./index.html">View Desktop Version</a></p>
    </div>

    <!-- Bottom CTA -->
    <div class="bottom-cta">
        <div class="cta-text">
            Start your Palm Beach adventure today
        </div>
        <button class="btn-get-started" onclick="showLogin()">Get Started - Sign In</button>
    </div>

    <!-- Login Modal -->
    <div class="modal-mobile" id="loginModal">
        <div class="modal-content-mobile">
            <button class="modal-close" onclick="closeModal()">×</button>
            <h2 style="margin-bottom: 1rem; color: var(--palm-green);">Welcome</h2>
            
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="email" placeholder="demo@demo.com" value="demo@demo.com">
            </div>
            
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="password" placeholder="Password" value="demo">
            </div>
            
            <button class="btn-login-mobile" onclick="handleLogin()">Sign In & Continue</button>
            
            <div class="demo-note">
                <strong>Demo:</strong> Use demo@demo.com / demo to test
            </div>
        </div>
    </div>

    <script>
        let selectedPass = null;
        let selectedPrice = 0;

        function selectPass(passType, price) {
            selectedPass = passType;
            selectedPrice = price;
            
            // Visual feedback
            document.querySelectorAll('.pass-card-mobile').forEach(card => {
                card.style.transform = 'scale(1)';
            });
            event.currentTarget.style.transform = 'scale(1.02)';
            
            // Haptic feedback simulation
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            showToast(`${passType} pass selected - $${price}`);
            
            // Auto-scroll to CTA
            setTimeout(() => {
                document.querySelector('.bottom-cta').scrollIntoView({ behavior: 'smooth' });
                event.currentTarget.style.transform = 'scale(1)';
            }, 500);
        }

        function showLogin() {
            if (!selectedPass) {
                showToast('Please select a pass first');
                return;
            }
            document.getElementById('loginModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('loginModal').classList.remove('active');
        }

        function handleLogin() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (email === 'demo@demo.com' && password === 'demo') {
                // Successful login
                localStorage.setItem('isLoggedIn', 'true');
                localStorage.setItem('currentUser', JSON.stringify({
                    email: 'demo@demo.com',
                    name: 'Demo User'
                }));
                
                // Create demo pass
                const demoPass = {
                    id: `PB${Math.floor(Math.random() * 900) + 100}-${selectedPass.charAt(0).toUpperCase()}D-ADT-001`,
                    type: selectedPass.charAt(0).toUpperCase() + selectedPass.slice(1) + ' Pass',
                    category: 'adult',
                    status: 'active',
                    purchaseDate: new Date().toISOString(),
                    price: selectedPrice
                };
                
                localStorage.setItem('userPasses', JSON.stringify([demoPass]));
                
                closeModal();
                showToast('Purchase successful! Redirecting to mobile app...');
                
                // Redirect to mobile app
                setTimeout(() => {
                    window.location.href = './mobile.html';
                }, 2000);
            } else {
                showToast('Invalid credentials. Use demo@demo.com / demo');
            }
        }

        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast-mobile show';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 2500);
        }

        // Add smooth scroll behavior
        document.documentElement.style.scrollBehavior = 'smooth';

        // Add touch feedback to all buttons
        document.querySelectorAll('button, .pass-card-mobile').forEach(element => {
            element.addEventListener('touchstart', () => {
                element.style.opacity = '0.8';
            });
            
            element.addEventListener('touchend', () => {
                element.style.opacity = '1';
            });
        });

        // Debug info
        console.log('Mobile Purchase Flow Loaded');
        console.log('Test URLs:');
        console.log('- Mobile App: ./mobile.html');
        console.log('- Desktop: ./index.html');
        console.log('- Vendor Scanner: ./vendor-scanner.html');
    </script>
</body>
</html>
